@model  Harbor.Domain.Pages.Content.ProductLink
@using Harbor.Domain.Files
@using Harbor.UI.Extensions
@using Harbor.UI.Models
@{
	var link = VirtualPathUtility.ToAbsolute(Model.VirtualPath);
}
<div data-rel="productLink" class="@Model.TileClassName">
	@if (Model.HasPreviewImage)
	{
		<a href="@link" class="media">
			<img src="@FileUrls.GetUrl(Model.PreviewImageID.ToString(), null, null, FileResolution.Low)" />
		</a>
	}
	<div class="caption">
		<h2><a href="@link">@Model.Title</a></h2>
			@foreach (var button in Model.Buttons)
			{
				<p style="margin:0;">
					<strong class="attn">@string.Format("{0:C}", button.Price)</strong>
					@if (string.IsNullOrEmpty(button.Description) == false)
					{
						<span> - @button.Description</span>
					}
				</p>
			}
			@*
			<hr />

			@Html.Raw(Model.PreviewText)
				*@
	</div>
</div>