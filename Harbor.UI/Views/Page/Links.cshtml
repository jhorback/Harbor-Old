@model Harbor.UI.Models.Components.NavLinksDto
@functions
{
    string itemClass(string url)
    {
        var currentUrl = Request.Url.ToString();
        var linkUrl = url.Substring(1);
        return currentUrl.IndexOf(linkUrl, StringComparison.InvariantCultureIgnoreCase) > -1
            ? "selected" : null;
    }
}
<div class="pad">
    
    @if (Model.sections.Count == 0)
    {
        <div>
            There are no links to display. 
        </div>
    }

    @foreach (var sect in Model.sections)
    {
        <div class="menulist">
            @if (string.IsNullOrEmpty(sect.title) == false)
            {
                <h2>@sect.title</h2>
            }
            <ul>
                @foreach (var link in sect.links)
                {
                    var url = string.Format("~/id/{0}/{1}", link.pageID, link.text.ToLower().Replace(" ", "-"));
                   <li class="@itemClass(url)"><a href="@Url.Content(url)">@link.text</a></li>							 
                }
            </ul>
        </div>
    }
</div>