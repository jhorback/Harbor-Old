@import "../../mixins/normalize";
@import "../../mixins/box-sizing";
@import "../../mixins/no-bullets";
@import "../../mixins/clearfix";
@import "../../mixins/border-radius";
@import "media";
@import "foundation-vars";


@mixin foundation {
	@include normalize;	
	@include body;
	@include headings;
	@include emphasis;
	@include semantic;
	@include lists;
	@include code;
}


@mixin foundation-theme {
	@include body-theme;
	@include headings-theme;
	@include emphasis-theme;
	@include semantic-theme;
	@include lists-theme;
	@include code-theme;
}



@mixin body {
    $opensans-fontpath: "font/opensans/OpenSans-Regular-";

    @font-face {
        font-family: 'OpenSans';
    
        src: url($opensans-fontpath + 'webfont.eot');
        src: url($opensans-fontpath + 'webfont.eot?#iefix') format('embedded-opentype'),
             url($opensans-fontpath + 'webfont.woff') format('woff'),
             url($opensans-fontpath + 'webfont.ttf') format('truetype'),
             url($opensans-fontpath + 'webfont.svg#OpenSansRegular') format('svg');
        font-weight: normal;
        font-weight: 400;
        font-style: normal;
    }

	html, body {
		height: 100%;
		min-height: 100%;
		*overflow: hidden; // prevent scrollbar in ie7
	}

	body {		
		margin: 0;
	}

	p { margin: 0; }

	// helper classes
	.text-left		{ text-align: left; }
	.text-center	{ text-align:center; }
	.text-right		{ text-align: right; }
	.text-justify	{ text-align: justify; }

	.hide			{ display: none; }
	.stretch		{ width: 100% !important; }
	.nowrap			{ white-space: nowrap;}

	.float-left		{ float: left; }
	.float-right	{ float: right; }
	.clear			{ clear: both }
	.clearfix		{ @include clearfix; } 

	.pad			{ padding: 1em; }
	.pad-left		{ padding-left: 1em; }
	.pad-right		{ padding-right: 1em; }
	.pad-top		{ padding-top: 1em; }
	.pad-bottom		{ padding-bottom: 1em; }
	.margin			 { margin: 1em; }
	.margin-left	{ margin-left: 1em; }
	.margin-top		{ margin-top: 1em; }
	.margin-right	{ margin-right: 1em; }
	.margin-bottom	{ margin-bottom: 1em; }

	[data-templatefor] { display: none !important; }
}

@mixin body-theme {
	html,
	body {
		background-color: $bg-color-light;
		@include color-dark;
		font-size: $body-font-size;
		font-family: $body-font-family;
		line-height: $body-line-height;
	}

	a, .link {
		text-decoration: underline;
		color: $link-color;
		cursor: pointer;
		&:visited, &:focus, &:hover, &:active {
			color: $link-color;
		}
	}
	.link {
		background-color: transparent;
		padding: 0;
		&:hover {
			background-color: transparent;
		}
		&:active {
			background-color: transparent;
		}
	}

	p {
		margin-bottom: 1.42em;
		&:only-of-type {
			margin-bottom: 0;
		}
	}
}


@mixin headings {
	h1, h2, h3, h4, h5, h6 {
		margin: 0; // margin is handled by the line-height
		clear: left;
		text-rendering: optimizelegibility; // Fix the character spacing for headings	
		font-family: $headings-font-family;
		.subheading {  margin-left: 1em; font-weight: normal; font-size: $body-font-size * 1.1; } // sub headings
	}
    // 16px base
	h1 { font-size: 2.0em;  } // ~32px
	h2 { font-size: 1.5em; } // ~24px
	h3 { font-size: 1.35em;  } // ~21px
	h4 { font-size: 1.20em; } // ~19px
	h5 { font-size: 1em;    } // ~16px
	h6 { font-size: .85em;  } // ~14px	
}

@mixin headings-theme {
	h1, h2, h3, h4, h5, h6 {
        color: $body-heading-color; 
		margin-top: ($body-line-height-px / 2);
        margin-bottom: 4px;
	}
}


@mixin emphasis {
	// Ex: 16px base font * 85% = about 13px
	small   { font-size: 80%; }

	strong  { font-weight: bold; }
	em      { font-style: italic; }
	cite    { font-style: italic;
		&:before { content: " -"; }
	}
}

@mixin emphasis-theme {
	.quiet          { @include color-light-quiet; }
	.loud           { color: $body-color-loud; }
	.attn           { color: $body-color-attn; }
	small			{  @include color-light-quiet; }
}


@mixin semantic {

	blockquote {
	  padding: 0 0 0 1.1em; // ~15px
	  margin: 0 0 1.42em; // base line height
	  border-left: 5px solid #DDD;
	  &:before, &:after {
		 content: "";
	  }
	}

	// Addresses
	address {
	  display: block;
	  margin-bottom: 1.42em;
	  font-style: normal;
	}	
}

@mixin semantic-theme {
	hr {
	  margin: $body-line-height-px 0;
	  border: 0;
	  border-top: 1px solid $hr-color;
	  border-bottom: 1px solid lighten($hr-color, 20%);
	  clear:both;
	}

	abbr[title] {
	  cursor: help;
	  border-bottom: 1px dotted $body-color;
	}
}


@mixin lists {
	ul, ol {
	  padding: 0;
	  margin: 0 0 1em 25px;  // 25px = bullet size
	}
	ul ul,
	ul ol,
	ol ol,
	ol ul {
	  margin-bottom: 0;
	}
//	li {
//	  line-height: @baseLineHeight;
//	}

	// Remove default list styles
	ul.list-style-none,
	ol.list-style-none {
	  @include no-bullets;
	}

	// Single-line list items
	ul.list-inline,
	ol.list-inline {
	  margin-left: 0;
	  list-style: none;
	  & > li {
		display: inline-block;
		padding-left: .5em;
		padding-right: .5em;
	  }
	}

	
	// Definition Lists
	dt {
		font-weight: bold;
	}
	
	// Horizontal layout (like forms)
	dl.list-wide {
		@include clearfix;
		
		dt {
			float: left;		
			clear: left;
			text-align: right;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}
}


@mixin lists-theme {
	ul, ol { 
		margin-bottom: ($body-line-height-px / 2);
         &:only-of-type {
            margin-bottom: 0;
        }
	}
	dl {
		margin-bottom: $body-line-height-px;
        &:only-of-type {
            margin-bottom: 0;
        }
		&.list-wide {
			dt {
				width: $dl-inline-dt-width;
			}
			dd {
				margin-left: $dl-inline-dt-width + 1.4em;
			}
			@include onphone {
				dt {
					float: none;
					display: block;
					text-align: left;
					width: auto;
				}
				dd {
					margin-left: auto;
				}
			}
		}
	}
	dt, dd {
	  line-height: $body-line-height;
	  margin-bottom: $body-line-height-px / 2;
	}
	dd {
	  margin-left: ($body-line-height-px / 2);
	}
}


@mixin code {
	pre, code   { font-family: $pre-font-family; background: #F5F5F5; border: 1px solid #DDD; @include border-radius; }
	pre { padding: .8em; overflow: auto; }
	code {
		padding: 2px 4px;
		color: #d14;
		background-color: #f7f7f9;
		border: 1px solid #e1e1e8;
		white-space: nowrap;
	}

	.outline {
		position: relative;
		border: 1px solid #DDD;
		background: #FFF;
		padding: 1em;
		overflow: auto; // not sure why this is needed in addition to the clearfix
		@include border-radius;
		@include clearfix;
	}
    
	.outline + .prettyprint {
		margin-top: -.5em;
		padding-top: 1em !important;
		margin-bottom: 2em;
	}
	.outline + .outline {
		margin-top: .5em;
	}
	.example {
		padding-top: 1.8em;
		&:after {
		  content: "Example";
		  position: absolute;
		  top: -1px;
		  left: -1px;
		  padding: 3px 7px;
		  font-size: 12px;
		  font-weight: bold;
		  background-color: #f5f5f5;
		  border: 1px solid #ddd;
		  color: #9da0a4;
		  -webkit-border-radius: 4px 0 4px 0;
			 -moz-border-radius: 4px 0 4px 0;
				  border-radius: 4px 0 4px 0;
		}	
	}
}

@mixin code-theme {
	
}