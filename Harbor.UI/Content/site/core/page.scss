@import "../mixins/text-shadow";
@import "../mixins/clearfix";
// for page-editor
@import "../mixins/box-shadow";
@import "../mixins/border-radius";
@import "../mixins/user-select";

// Markup
// <div class="page">
//	<header class="page-header">
//	</header>
//	<div class="page-body"> <!-- can have .aside, .readable, and .centered  -->
//		<aside class="page-aside">
//		</aside>
//		<div class="page-content">
//		</div>
//	</div>
// </div>

@mixin page {
	.page, .page-body { position: relative; } // containers

	.page-header {
		padding: 1.5em;
		padding-bottom: .5em;
		@include clearfix;
		h1 {
			@include single-text-shadow(rgba(#000, 0.4), 1px, 1px, 2px);
		}
	}

	.page-aside,
	.page-content {
		position: relative;
		.col1:first-child {
			padding-top: 0;
		}
	}
	.page-aside {
		clear: left;
		padding: 1em;
		padding-top: .5em;
		display: none;
	}
	.page-content {
		padding: 2em;
		padding-top: .5em;
		@include clearfix;	
	}

	.aside {
		.page-aside {
			display: block;
		}
	}

	@media screen and (min-width: 1024px) { // large + wide
		@include _layout_page(
			$aside-width: 20%,
			$content-width: 80%,
			$readable-aside-width: 25%,
			$readable-content-width: 75%
		);
	}

	@media screen and (min-width: 600px) and (max-width: 1024px) { // medium
		@include _layout_page(
			$aside-width: 25%,
			$content-width: 75%,
			$readable-aside-width: 30%,
			$readable-content-width: 70%
		);
	}
}


@mixin _layout_page(
	$aside-width,
	$content-width,
	$readable-aside-width,
	$readable-content-width) {

	.page-aside,
	.page-content {
		float: left;
		min-height: 23em;
	}

	.page-content {
		width: 100%;
	}
	.readable {
		max-width: 1000px;
	}

	.aside {
		.page-aside {
			width: $aside-width;
		}
		.page-content {
			width: $content-width;
		}

		&.readable {					
			.page-aside {
				width: $readable-aside-width;
			}
			.page-content {												
				width: $readable-content-width;
			}
		}			
	}
}


@mixin page-editor {
	.uic {
		position: relative;
		&.selected {
			background-color: #eee;
		}
	}
	.uic-menu {
		position: absolute;
		background:#AAA;
		z-index: 1;
		padding: .2em;
		right: -.2em;
		top: 0;
		// height: 3em;
		margin-top: -2.8em;
		//float: right;
		padding-left:.5em;
		@include box-shadow(1px, 1px, .2em, 0, #333);
		@include border-radius(3px);
		@include user-select("none");

		span {
			color: #fff;
			font-size: 1.8em;
			padding: .3em;
			&:hover {
				@include single-text-shadow(rgba(#000, 0.4), 2px, 2px, 4px);
			}
			&:active {
				@include single-text-shadow(rgba(#000, 0), 0, 0, 0);
			}
			&.icon-move {
				cursor: move;
			}
		}
	}

	.uic-add {
		clear:both;
		background:#ddd;
		@include border-radius(3px);
		color: #fff;
		text-align: center;
		font-size: 2em;
		padding: .23em;
		&:hover {
			background:#BFBFBF;
			@include single-text-shadow(rgba(#000, 0.4), 2px, 2px, 4px);
		}
		&:active {
			@include single-text-shadow(rgba(#000, 0), 0, 0, 0);
		}
	}

	.page-header {
		.uic-menu {
			top: auto;
			bottom: -2em;
		}
	}
}

@include page;
@include page-editor;